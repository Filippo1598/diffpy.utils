name: Codecov and matrix

on:
  push:
    branches:
      - main
  release:
    types:
      - prereleased
      - published
  workflow_dispatch:

jobs:
  coverage-and-matrix:
    uses: Billingegroup/release-scripts/.github/workflows/_coverage-and-matrix.yml@v0
    with:
      project: diffpy.utils
      c_extension: false
      headless: false
